<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia Site Renderer 1.6 at 2017-05-08 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>tq-elastic-ks &#x2013; CPD Results</title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20170508" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                tq-elastic-ks
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
                    
                <div class="xleft">
        <span id="publishDate">Last Published: 2017-05-08</span>
                  &nbsp;| <span id="projectVersion">Version: 0.6.0-SNAPSHOT</span>
                      </div>
            <div class="xright">                    <a href="./" title="tq-elastic-ks">tq-elastic-ks</a>
              
                    
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
                    
                                          <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                            <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                                                                <li class="expanded">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                    <ul>
                      <li class="none">
                          <a href="surefire-report.html" title="Surefire Report">Surefire Report</a>
            </li>
                      <li class="none">
                          <a href="property-updates-report.html" title="Property Updates Report">Property Updates Report</a>
            </li>
                      <li class="none">
                          <a href="plugin-updates-report.html" title="Plugin Updates Report">Plugin Updates Report</a>
            </li>
                      <li class="none">
                          <a href="dependency-updates-report.html" title="Dependency Updates Report">Dependency Updates Report</a>
            </li>
                      <li class="none">
                          <a href="xref/index.html" title="Source Xref">Source Xref</a>
            </li>
                      <li class="none">
                          <a href="xref-test/index.html" title="Test Source Xref">Test Source Xref</a>
            </li>
                      <li class="none">
                          <a href="dependency-check-report.html" title="Dependency Check">Dependency Check</a>
            </li>
                      <li class="none">
            <strong>CPD</strong>
          </li>
                      <li class="none">
                          <a href="pmd.html" title="PMD">PMD</a>
            </li>
                      <li class="none">
                          <a href="taglist.html" title="Tag List">Tag List</a>
            </li>
              </ul>
        </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
                    
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section">
<h2><a name="CPD_Results"></a>CPD Results</h2>
<p>The following document contains the results of PMD's  <a class="externalLink" href="http://pmd.sourceforge.net/cpd.html">CPD</a> 5.5.1.</p></div>
<div class="section">
<h2><a name="Duplications"></a>Duplications</h2>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/topicquests/ks/tm/TQSystemDataProvider.java</td>
<td>794</td></tr>
<tr class="a">
<td>org/topicquests/ks/tm/TQSystemDataProvider.java</td>
<td>816</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	private String createQueryFromQuery(QueryBuilder qb, int start, int count, String sortBy, String sortDir) {
		SearchSourceBuilder searchSourceBuilder = new SearchSourceBuilder();
		searchSourceBuilder.query(qb);
		searchSourceBuilder.from(start);
		SortOrder so = null;
		if (sortDir != null &amp;&amp; !sortDir.equals(&quot;&quot;)) {
			if (sortDir.equals(&quot;asc&quot;))
				so = SortOrder.ASC;
			else
				so = SortOrder.DESC;
		}
		if (sortBy != null &amp;&amp; !sortBy.equals(&quot;&quot;)) {
			if (so != null)
				searchSourceBuilder.sort(sortBy, so);
			else
				searchSourceBuilder.sort(sortBy);
		}
		if (count &gt; -1)
			searchSourceBuilder.size(count);
		return searchSourceBuilder.toString();
	}
	
	private String createQueryFromStringQuery(String qb, int start, int count, String sortBy, String sortDir) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/topicquests/ks/tm/TQSystemDataProvider.java</td>
<td>519</td></tr>
<tr class="a">
<td>org/topicquests/ks/tm/TQSystemDataProvider.java</td>
<td>727</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	public IResult listNodesByQuery(String queryString, int start, int count,
			String sortBy, String sortDir, ITicket credentials) {
		String q = this.createQueryFromStringQuery(queryString, start, count, sortBy, sortDir);
		IResult result = database.listObjectsByQuery(q, _INDEX);
		if (result.getResultObject() != null) {
			List&lt;JSONObject&gt; l = (List&lt;JSONObject&gt;)result.getResultObject();
			int len = l.size();
			if (len &gt; 0) {
				List&lt;ISubjectProxy&gt;rslt = this.pluckProxies(l, credentials);;
				result.setResultObject(rslt);
			}
		}
		return result;
	}

	/* (non-Javadoc)
	 * @see org.topicquests.ks.api.ITQDataProvider#listNodesByCreatorId(java.lang.String, int, int, org.topicquests.ks.api.ITicket)
	 */
	@Override
	public IResult listNodesByCreatorId(String creatorId, int start, int count,</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/topicquests/ks/tm/ChildStruct.java</td>
<td>39</td></tr>
<tr class="a">
<td>org/topicquests/ks/tm/ParentChildStruct.java</td>
<td>35</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	public ChildStruct(String json) throws Exception {
		JSONParser p = new JSONParser(JSONParser.MODE_JSON_SIMPLE);
		data = (JSONObject)p.parse(json);
	}
	/* (non-Javadoc)
	 * @see org.topicquests.model.api.IChildStruct#setContextLocator(java.lang.String)
	 */
	@Override
	public void setContextLocator(String context) {
		data.put(IChildStruct.CONTEXT_LOCATOR, context);
	}

	/* (non-Javadoc)
	 * @see org.topicquests.model.api.IChildStruct#getContextLocator()
	 */
	@Override
	public String getContextLocator() {
		return (String)data.get(IChildStruct.CONTEXT_LOCATOR);
	}

	/* (non-Javadoc)
	 * @see org.topicquests.model.api.IChildStruct#setLocator(java.lang.String)
	 */
	@Override
	public void setLocator(String locator) {
		data.put(IChildStruct.LOCATOR, locator);
	}

	/* (non-Javadoc)
	 * @see org.topicquests.model.api.IChildStruct#getLocator()
	 */
	@Override
	public String getLocator() {
		return (String)data.get(IChildStruct.LOCATOR);
	}

	/* (non-Javadoc)
	 * @see org.topicquests.model.api.IChildStruct#setSmallIcon(java.lang.String)
	 */
	@Override
	public void setSmallIcon(String iconPath) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/topicquests/ks/SearchEnvironment.java</td>
<td>59</td></tr>
<tr class="a">
<td>org/topicquests/ks/SearchEnvironment.java</td>
<td>104</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>		IResult r = queryModel.listNodesByLabel(query, language, start, count, sortBy, sortDir, credentials);
		if (r.getResultObject() != null) {
			List&lt;ISubjectProxy&gt;nodes = (List&lt;ISubjectProxy&gt;)r.getResultObject();
			ISubjectProxy n;
			Iterator&lt;ISubjectProxy&gt;itr = nodes.iterator();
			StringBuilder buf = new StringBuilder();
			List&lt;String&gt;strings;
			boolean isFirst = true;
			int len = 0;
			while (itr.hasNext()) {
				n = itr.next();
				buf.append(&quot;Locator: &quot;);
				buf.append(n.getLocator());
				buf.append(&quot;\nDetails: &quot;);</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/topicquests/ks/graph/GraphEdge.java</td>
<td>29</td></tr>
<tr class="a">
<td>org/topicquests/ks/graph/GraphVertex.java</td>
<td>32</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>	public GraphEdge(JSONObject jo) {
		data = jo;
	}
	/* (non-Javadoc)
	 * @see org.topicquests.hyperbrane.graph.api.IElement#getId()
	 */
	@Override
	public String getId() {
		return (String)data.get(IGraphOntology.ID_PROPERTY);
	}

	/* (non-Javadoc)
	 * @see org.topicquests.hyperbrane.graph.api.IElement#setId(java.lang.String)
	 */
	@Override
	public void setId(String id) {
		data.put(IGraphOntology.ID_PROPERTY, id);
	}

	/* (non-Javadoc)
	 * @see org.topicquests.hyperbrane.graph.api.IElement#getProperty(java.lang.String)
	 */
	@Override
	public Object getProperty(String key) {
		return data.get(key);
	}

	/* (non-Javadoc)
	 * @see org.topicquests.hyperbrane.graph.api.IElement#setProperty(java.lang.String, java.lang.Object)
	 */
	@Override
	public void setProperty(String key, Object value) {
		data.put(key, value);
	}

	/* (non-Javadoc)
	 * @see org.topicquests.hyperbrane.graph.api.IElement#removeProperty(java.lang.String)
	 */
	@Override
	public void removeProperty(String key) {
		data.remove(key);
	}
	
	@Override
	public boolean hasKeyValue(String key, Object value) {</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/topicquests/ks/tm/SubjectProxy.java</td>
<td>931</td></tr>
<tr class="a">
<td>org/topicquests/ks/tm/SubjectProxy.java</td>
<td>1021</td></tr>
<tr class="b"><td colspan='2'>
<div>
<pre>		List&lt;JSONObject&gt; relns = this.getMultivaluedJSONproperty(ITQCoreOntology.TUPLE_LIST_PROPERTY);
		if (relns == null)
			return new ArrayList&lt;&gt;();
		else if (relationType == null)
			return relns;
		else {
			//This is messy because we are dealing with JSON strings
			// based on IRelationStruct
			List&lt;JSONObject&gt; result = new ArrayList&lt;&gt;();
			JSONObject rln,x;
			int len = relns.size();
			for (int i=0;i&lt;len;i++) {
				rln = relns.get(i);
				//x = pluckRelationTypeFromJSONString(rln);
				if (rln != null &amp;&amp; rln.get(&quot;relationType&quot;).equals(relationType))
					result.add(rln);
			}
			return result;
		}
	}

	/* (non-Javadoc)
	 * @see org.topicquests.ks.tm.api.ISubjectProxy#listRestrictedRelationsByRelationType(java.lang.String)
	 */
	@Override
	public List&lt;JSONObject&gt; listRestrictedRelationsByRelationType(</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="a">
<th>File</th>
<th>Line</th></tr>
<tr class="b">
<td>org/topicquests/ks/tm/SubjectProxy.java</td>
<td>931</td></tr>
<tr class="a">
<td>org/topicquests/ks/tm/SubjectProxy.java</td>
<td>958</td></tr>
<tr class="b">
<td>org/topicquests/ks/tm/SubjectProxy.java</td>
<td>1021</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>		List&lt;JSONObject&gt; relns = this.getMultivaluedJSONproperty(ITQCoreOntology.TUPLE_LIST_PROPERTY);
		if (relns == null)
			return new ArrayList&lt;&gt;();
		else if (relationType == null)
			return relns;
		else {
			//This is messy because we are dealing with JSON strings
			// based on IRelationStruct
			List&lt;JSONObject&gt; result = new ArrayList&lt;&gt;();
			JSONObject rln,x;
			int len = relns.size();
			for (int i=0;i&lt;len;i++) {
				rln = relns.get(i);
				//x = pluckRelationTypeFromJSONString(rln);
				if (rln != null &amp;&amp; rln.get(&quot;relationType&quot;).equals(relationType))
					result.add(rln);
			}
			return result;
		}
	}

	/* (non-Javadoc)
	 * @see org.topicquests.ks.tm.api.ISubjectProxy#listRestrictedRelationsByRelationType(java.lang.String)
	 */
	@Override
	public List&lt;JSONObject&gt; listRestrictedRelationsByRelationType(</pre></div></td></tr></table>
<table border="0" class="bodyTable">
<tr class="b">
<th>File</th>
<th>Line</th></tr>
<tr class="a">
<td>org/topicquests/ks/tm/TQSystemDataProvider.java</td>
<td>478</td></tr>
<tr class="b">
<td>org/topicquests/ks/tm/TQSystemDataProvider.java</td>
<td>666</td></tr>
<tr class="a"><td colspan='2'>
<div>
<pre>		QueryBuilder qb = QueryBuilders.wildcardQuery(labprop, labelFragment);
		String q = this.createQueryFromQuery(qb, start, count, sortBy, sortDir);
		IResult result = database.listObjectsByQuery(q, _INDEX);
		if (result.getResultObject() != null) {
			List&lt;JSONObject&gt; l = (List&lt;JSONObject&gt;)result.getResultObject();
			int len = l.size();
			if (len &gt; 0) {
				List&lt;ISubjectProxy&gt;rslt = this.pluckProxies(l, credentials);;
				result.setResultObject(rslt);
			}
		}
		return result;
	}

	/* (non-Javadoc)
	 * @see org.topicquests.ks.api.ITQDataProvider#listNodesByDetailsLike(java.lang.String, java.lang.String, int, int, org.topicquests.ks.api.ITicket)
	 */
	@Override
	public IResult listNodesByDetailsLike(String detailsFragment,</pre></div></td></tr></table></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2015&#x2013;2017
                        <a href="http://topicquests.org">TopicQuests Foundation</a>.
            All rights reserved.      
                    
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
